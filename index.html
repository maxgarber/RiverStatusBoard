<!DOCTYPE html>
<!--
		RiverStatusBoard: Information for Rowers and Paddlers
		Allegheny River information for Three Rivers Rowing Association (TRRA)
		by Maxwell B Garber <max.garber+dev@gmail.com>
		index.html created on 2017-06-26
-->
<html lang="en">
	<head>
		<!-- meta -->
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		
		<!-- Content Security Policies: I don't know how these work yet, so I'm not enabling them
		<meta http-equiv="Content-Security-Policy" content="default-src http://api.openweathermap.org; child-src 'none'; object-src 'none'">
		<meta http-equiv="Content-Security-Policy" content="default-src http://maxgarber.github.io; child-src 'none'; object-src 'none'">
		-->
		
		<title>River Status Board</title>
		
		<!-- RequireJS
			<script data-main="./scripts/main" src="./scripts/require-2.3.3.js"></script>
		-->
		
		<!-- jQuery -->
		<script src="./scripts/libs/jquery-3.2.1.min.js"></script>
		<!-- Moment -->
		<script src="./scripts/libs/moment-2.18.1.min.js"></script>
		<!-- Knockout -->
		<script src="./scripts/libs/knockout-3.4.2.js"></script>
		<!-- Chart -->
		<script src="./scripts/libs/Chart-2.6.0.min.js"></script>
		
		<!-- custom API management scheme -->
		<script src="./scripts/apiClients/gov.weather.js"></script>
		<script src="./scripts/apiClients/gov.usgs.js"></script>
		<script src="./scripts/apiClients/org.sunrise-sunset.js"></script>
		<script src="./scripts/apiClients/org.openweathermap.js"></script>
		<script src="./scripts/apiConcierge.js"></script>
		
		<!-- TRRA dashbaord functions -->
		<script src="./scripts/trra-safety.js"></script>
		
		<!-- the app itself -->
		<script src="./scripts/app.js"></script>
		<script src="./scripts/main.js"></script>
		<script src="./scripts/graph.js"></script>
		
		<!-- Custom Styles -->
		<link rel="stylesheet" type="text/css" href="./styles.css">
		
		<!-- Bootstrap -->
		<link href="./lib/bootstrap-3.3.7-dist/css/bootstrap.min.css" rel="stylesheet">
		<script src="./lib/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
			<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->
	</head>
	<body id="koBindingContext">
		<div id="container-outer">
			<div id="container-inner">
				<div class="container-fluid center-block">
					
					<!-- BEGIN Title Row -->
					<div class="row">
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center">
							<h1 class="h1-custom">Allegheny River Conditions</h1>
						</div>
					</div>
					<!-- END Title Row -->
					
					<!--  BEGIN Current Conditions & Rules Row -->
					<div class="row">
						
						<!-- BEGIN Current Values Table -->
						<div class="col-lg-4 col-md-8 col-sm-12 col-xs-12 text-center">
							<h2 class="colTitle">Now</h2>
							<div id="now-data-container" class="container-fluid">
								
								<div class="row now-value-row">
									<div class="col-lg-4 col-md-4 col-sm-3 col-xs-4 text-right now-value-name">
										<span>Flow</span>
									</div>
									<div class="col-lg-8 col-md-8 col-sm-9 col-xs-8 text-left now-value-value">
										<span class="label label-default" id="dataField-flow" 
											data-bind="{
												text: waterFlow,
												style: {
													'background-color': waterFlowColor
												}
											}"></span>
										<span class="now-value-units" data-bind="text: waterFlowUnits"></span>
									</div>
								</div>
							
								<div class="row now-value-row">
									<div class="col-lg-4 col-md-4 col-sm-3 col-xs-4 text-right now-value-name">
										<span>Water</span>
									</div>
									<div class="col-lg-8 col-md-8 col-sm-9 col-xs-8 text-left now-value-value">
										<div style="display: inline-block;">
										<span class="label label-default" id="dataField-temp"
											data-bind="{
												text: waterTemp,
												style: {
													'background-color': waterTempColor
												}
											}">
										</span>
										<span class="now-value-units" data-bind="text: waterTempUnits"></span>
										</div>
										<div style="display: inline-block;">
											<span class="label label-default" id="dataField-temp"
												data-bind="{
													text: waterTempF,
													style: {
														'background-color': waterTempColor
													}
												}">
											</span>
											<span class="now-value-units">˚F</span>
										</div>
									</div>
								</div>
							
								<div class="row now-value-row">
									<div class="col-lg-4 col-md-4 col-sm-3 col-xs-4 text-right now-value-name">
										<span>Gauge</span>
									</div>
									<div class="col-lg-8 col-md-8 col-sm-9 col-xs-8 text-left now-value-value">
										<span class="label label-default" id="dataField-flood" data-bind="text: waterLevel"></span>
										<span class="now-value-units" data-bind="text: waterLevelUnits"></span>
									</div>
								</div>
								
								<div class="row now-value-row" data-bind="if: airPropertiesEnabled">
									<div class="col-lg-4 col-md-4 col-sm-3 col-xs-3 text-right now-value-name">
										<span>Air</span>
									</div>
									<div class="col-lg-8 col-md-8 col-sm-9 col-xs-9 text-left now-value-value">
										<span class="label label-default" id="dataField-air" data-bind="text: airTemp"></span>
										<span class="now-value-units" data-bind="text: airTempUnits"></span>
									</div>
								</div>
							
								<div class="row now-value-row" data-bind="if: airPropertiesEnabled">
									<div class="col-lg-4 col-md-4 col-sm-3 col-xs-3 text-right now-value-name">
										<span>Wind</span>
									</div>
									<div class="col-lg-8 col-md-8 col-sm-9 col-xs-9 text-left now-value-value">
										<span class="label label-default" id="dataField-windSpeed" data-bind="text: airSpeed"></span>
										<span class="now-value-units" data-bind="text: airSpeedUnits"></span>
										<span id="dataField-windDirxn" data-bind="text: airDirxn"></span>
									</div>
								</div>
								
								<div class="row now-value-row">
									<div class="col-lg-4 col-md-4 col-sm-3 col-xs-4 text-right now-value-name">
										<span>Sunrise</span>
									</div>
									<div class="col-lg-8 col-md-8 col-sm-9 col-xs-8 text-left now-value-value">
										<span class="label label-default" id="dataField-dawn" data-bind="text: sunriseText"></span>
									</div>
								</div>
								
								<div class="row now-value-row">
									<div class="col-lg-4 col-md-4 col-sm-3 col-xs-4 text-right now-value-name">
										<span>Sunset</span>
									</div>
									<div class="col-lg-8 col-md-8 col-sm-9 col-xs-8 text-left now-value-value">
										<span class="label label-default" id="dataField-dusk" data-bind="text: sunsetText"></span>
									</div>
								</div>
								
							</div>
						</div>
						<!-- END Current Values Table -->
					
						<!-- BEGIN Current Zone Display -->
						<div class="col-lg-4 col-md-4 col-sm-12 col-xs-12 text-center">
							<h2 class="colTitle">Zone</h2>
							<div id="zone-data-container">
								<span class="label label-default" id="dataField-zone"
									data-bind="{
										text: zone,
										style: { 'background-color': zoneColor }
									}">
								</span>
							</div>
						</div>
						<!-- END Current Zone Display -->
					
						<!-- BEGIN Safety Values Table -->
						<div class="col-lg-4 col-md-12 col-sm-12 col-xs-12 text-center">
							<h2 class="colTitle">Safety Rules</h2>
							<div class="container-fluid" id="rules-data-container">
								<div class="row rules-value-row">
									<div class="col-lg-5 col-md-2 col-sm-3 col-xs-1 text-right rules-value-name">
										<span class="label label-info">Shell Types</span>
									</div>
									<div class="col-lg-7 col-md-10 col-sm-9 col-xs-12 col-md-offset-0 col-sm-offset-0 col-xs-offset-1 text-left rules-value-value">
										<span id="dataField-shells" data-bind="text:shellTypes"></span>
									</div>
								</div>
								<div class="row rules-value-row">
									<div class="col-lg-5 col-md-2 col-sm-3 col-xs-1 text-right rules-value-name">
										<span class="label label-info">Skill Level</span>
									</div>
									<div class="col-lg-7 col-md-10 col-sm-9 col-xs-12 col-md-offset-0 col-sm-offset-0 col-xs-offset-1 text-left rules-value-value">
										<span id="dataField-skill"  data-bind="text:crewSkill"></span>
									</div>
								</div>
								<div class="row rules-value-row">
									<div class="col-lg-5 col-md-2 col-sm-3 col-xs-1 text-right rules-value-name">
										<span class="label label-info">Launches</span>
									</div>
									<div class="col-lg-7 col-md-10 col-sm-9 col-xs-12 col-md-offset-0 col-sm-offset-0 col-xs-offset-1 text-left rules-value-value">
										<span id="dataField-launches" data-bind="text:launchRatio"></span>
									</div>
								</div>
								<div class="row rules-value-row">
									<div class="col-lg-5 col-md-2 col-sm-3 col-xs-1 text-right rules-value-name">
										<span class="label label-info">Coaches</span>
									</div>
									<div class="col-lg-7 col-md-10 col-sm-9 col-xs-12 col-md-offset-0 col-sm-offset-0 col-xs-offset-1 text-left rules-value-value">
										<span id="dataField-coaches" data-bind="text:coachCert"></span>
									</div>
								</div>
								<div class="row rules-value-row">
									<div class="col-lg-5 col-md-2 col-sm-3 col-xs-1 text-right rules-value-name">
										<span class="label label-info">Safety Gear</span>
									</div>
									<div class="col-lg-7 col-md-10 col-sm-9 col-xs-12 col-md-offset-0 col-sm-offset-0 col-xs-offset-1 text-left rules-value-value">
										<span id="dataField-pdfReq" data-bind="text:pfdReq"></span><br />
										<span id="dataField-commsEquip"  data-bind="text:commsEquip"></span><br />
										<span id="dataField-skill"  data-bind="text:additionalSafety"></span>
									</div>
								</div>
								<div class="row rules-value-row">&nbsp;</div>
							</div>
						</div>
						<!-- END Safety Values Table -->
					</div>
					<!--  END Current Conditions & Rules Row -->
					
					<!-- BEGIN Recent Conditions Graph Row -->
					<div class="row center-block" data-bind="visible: graphEnabled">
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center" id="graphRow">
							<h2 class="colTitle">Recent Conditions</h2>
							<div class="graph-data-container">
								<canvas id="graphCanvas"></canvas>
							</div>
						</div>
					</div>
					<!-- END Recent Conditions Graph Row -->
					
					<div class="row">
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center">
							<h1 class="h1-custom"></h1>
						</div>
					</div>
					
					<!-- BEGIN Data attribution row -->
					<div class="row center-block" id="attribution">
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-left">
							<h4>Data provided by:</h4>
							<span>USGS WaterData</span>
							<span>NOAA Water Conditions</span>
							<span>Sunrise-Sunset API</span>
							<span>Three Rivers Rowing Assocation</span>
						</div>
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-left">
							<h4>Site built with:</h4>
							<span>Bootstrap, jQuery, Moment, Knockout, &amp; RequireJS</span><br />
							<br />
							<span>©2018 Maxwell Garber.</span>
							<span>This site is intended for use only by staff, members, and guests of Three Rivers Rowing Association.</span><br />
							<span>It is not intended to be a substitute for evaluating safety conditions using good judgement, and therefore assumes no liability if you do something stupid and/or dangerous.</span>
						</div>
					</div>
					<!-- END Data attribution row -->
					
					<div id="bottom-gutter">&nbsp;</div>
				</div>
			</div>
		</div>
	</body>
</html>
<!-- EOF -->
